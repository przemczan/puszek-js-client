angular.module("przemczan.puszek",[]),angular.module("przemczan.puszek").factory("PrzemczanPuszekMessageChannel",["$rootScope",function(a){function b(b,c){function d(b){f.trigger(b,[].slice.apply(arguments,[1])),a.$apply()}var e=this,f=$(e),g=new Puszek.utils.MessageChannel(b.$socket,c);this.on=function(){return f.on.apply(f,arguments),e},this.off=function(){return f.off.apply(f,arguments),e},g.on("open close packet error",d),e.getMessages=g.getMessages,e.isConnected=g.isConnected,e.markAllAsRead=g.markAllAsRead,e.markAsRead=g.markAsRead}return{create:function(a,c){return new b(a,c)}}}]),angular.module("przemczan.puszek").factory("PrzemczanPuszekSocket",["$rootScope",function(a){function b(b){function c(b){e.trigger(b,[].slice.apply(arguments,[1])),a.$apply()}var d=this,e=$(d);d.$socket=new Puszek.connector.Socket(b),this.on=function(){return e.on.apply(e,arguments),d},this.off=function(){return e.off.apply(e,arguments),d},d.$socket.on("open close error pre.packet packet post.packet",c),d.connect=d.$socket.connect,d.disconnect=d.$socket.disconnect,d.isConnected=d.$socket.isConnected}return{create:function(a){return new b(a)}}}]);